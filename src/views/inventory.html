<!DOCTYPE html>
<html lang="en">

{{ define "card"}}
<div class="tag-common" data-name="{{.Card.Cardname}}" data-quantity="{{.Quantity}}">
    <div class="card">
        <img class="imgResize" src="ressources/pics/{{ .Card.Avatar }}" alt="{{.Card.Cardname}}">
        <div class="container">
            <h4><b>{{ .Card.Cardname }}</b></h4>

        </div>
    </div>
    x <span id="{{ .Card.ID }}-quantity">{{ .Quantity}}</span>
    {{ if ge .Quantity 4 }}
    <button class="recycle" data-id="{{.Card.ID}}" data-quantity="{{.Quantity}}">Recycle
        3 for 1 roll </button>

    {{ end }}
</div>
{{ end}}

{{ define "rareCard" }}
<div class="tag-rare" data-name="{{.Card.Cardname}}" data-quantity="{{.Quantity}}">
    <div class="rare-card-container">
        <div class="rare-card">
            <img class="imgResize" src="ressources/pics/{{ .Card.Avatar }}" alt="{{.Card.Cardname}}">
        </div>
        <div class="rare-container">
            <b>{{.Card.Cardname}}</b>
        </div>
    </div>
    x <span id="{{ .Card.ID }}-quantity">{{ .Quantity}}</span>
    {{ if ge .Quantity 4 }}
    <button class="recycle" data-id="{{.Card.ID}}" data-quantity="{{.Quantity}}">Recycle
        3 for 1 roll </button>
    {{ end }}
</div>
{{ end }}
{{ template "head" }}

<body>
    {{ template "navbar_inventory" .}}
    <flash-messages data-max-messages="5"></flash-messages>
    <div class="grid">
        <div></div>
        <div class="grid-center">
            <h2>My inventory : </h2>
        </div>
    </div>
    </div>
    <div id="rolled" style="min-height:650px" uk-filter="target: .card-filter">
        <div class="uk-grid-medium uk-margin-auto uk-grid-divider  uk-child-width-auto"  uk-grid>
            <ul class="uk-subnav uk-subnav-pill">
                <li uk-filter-control><a href="#">All</a></li>
                <li uk-filter-control="filter:.tag-rare;group:rarity"><a href="#">Rare</a></li>
                <li uk-filter-control="filter:.tag-common;group:rarity"><a href="#">Common</a></li>
            </ul>
            <ul class="uk-subnav uk-subnav-pill">   
                <li class="uk-active" uk-filter-control="sort:data-name"><a href="#">Name A - Z</a></li>
                <li uk-filter-control="sort:data-name;order:desc;"><a href="#">Name Z - A</a></li>
            </ul>
            <ul class="uk-subnav uk-subnav-pill">   
   
                <li uk-filter-control="sort:data-quantity;order:desc"><a href="#">Quantity + </a></li>
                <li uk-filter-control="sort:data-quantity;"><a href="#">Quantity - </a></li>
            </ul>
        </div>

        <ul uk-grid class="uk-grid-medium uk-margin-auto card-filter">
            {{ if .CardsInInventory}}
            {{ range .CardsInInventory }}
            {{ if eq .Card.Rarity 2}}
            {{ template "rareCard" .}}
            {{ else }}
            {{ template "card" . }}
            {{end}}
            {{end}}
            {{end}}
        </ul>
    </div>
    {{template "footer"}}
    {{ template "js"}}
</body>